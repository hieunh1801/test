<div id="disease-history-form">
  <h3 *ngIf="mode === 'CREATE'" translate>
    USER_PROFILES__DISEASE_HISTORY_FORM__TITLE__ADD_NEW_DISEASE_HISTORY
  </h3>

  <form *ngIf="diseaseForm" [formGroup]="diseaseForm">
    <div
      fxLayout="row"
      fxLayoutGap="16px"
      fxLayout.lt-sm="column"
      fxLayoutGap.lt-sm="0px"
    >
      <!-- disease -->
      <div class="form-field">
        <mat-label>
          <span translate
            >USER_PROFILES__DISEASE_HISTORY_FORM__LABELS__DISEASE</span
          >
          <span class="required">*</span>
        </mat-label>
        <mat-form-field appearance="outline">
          <input
            matInput
            formControlName="disease"
            [placeholder]="
              'USER_PROFILES__DISEASE_HISTORY_FORM__PLACEHOLDER__DISEASE_NAME'
                | translate
            "
          />
          <mat-error *ngIf="f?.disease?.dirty || f?.disease?.touched">
            <mat-icon>error</mat-icon>
            <span *ngIf="f?.disease?.errors?.required" translate>
              USER_PROFILES__DISEASE_HISTORY_FORM__ERRORS__REQUIRED_DISEASE_NAME
            </span>
          </mat-error>
        </mat-form-field>
      </div>
      <!-- disease end -->

      <!-- from date, to date  -->
      <div
        fxLayout="row"
        fxLayoutGap="8px"
        fxLayout.lt-sm="column"
        fxLayoutGap.lt-sm="0px"
      >
        <div class="form-field">
          <mat-label translate>
            USER_PROFILES__DISEASE_HISTORY_FORM__LABELS__FROM_DATE
          </mat-label>
          <mat-form-field appearance="outline">
            <input
              matInput
              [matDatepicker]="pickerFromDate"
              [max]="f?.toDate?.value"
              formControlName="fromDate"
              [placeholder]="
                'USER_PROFILES__DISEASE_HISTORY_FORM__PLACEHOLDER__CHOOSE_DATE'
                  | translate
              "
              disabled
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="pickerFromDate"
            ></mat-datepicker-toggle>
            <mat-datepicker #pickerFromDate disabled="false"></mat-datepicker>
          </mat-form-field>
        </div>
        <div class="form-field">
          <mat-label translate>
            USER_PROFILES__DISEASE_HISTORY_FORM__LABELS__TO_DATE
          </mat-label>
          <mat-form-field appearance="outline">
            <input
              matInput
              [min]="f?.fromDate?.value"
              [matDatepicker]="pickerToDate"
              formControlName="toDate"
              [placeholder]="
                'USER_PROFILES__DISEASE_HISTORY_FORM__PLACEHOLDER__CHOOSE_DATE'
                  | translate
              "
              disabled
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="pickerToDate"
            ></mat-datepicker-toggle>
            <mat-datepicker #pickerToDate disabled="false"></mat-datepicker>
          </mat-form-field>
        </div>
      </div>
      <!-- from date, to date  end -->
    </div>

    <!-- note -->
    <div class="form-field">
      <mat-label translate>
        USER_PROFILES__DISEASE_HISTORY_ADD__LABELS__NOTE
      </mat-label>
      <mat-form-field appearance="outline">
        <textarea
          matInput
          cdkTextareaAutosize
          [placeholder]="
            'USER_PROFILES__DISEASE_HISTORY_ADD__PLACEHOLDER__DISEASE_DETAIL'
              | translate
          "
          formControlName="note"
          rows="6"
        ></textarea>
      </mat-form-field>
    </div>
    <!-- note end-->

    <!-- form action -->
    <div class="form-actions" fxLayout="row" fxLayoutAlign="end center">
      <button
        mat-stroked-button
        class="cancel-button"
        (click)="cancelClick(); $event.preventDefault()"
      >
        <span translate>
          USER_PROFILES__DISEASE_HISTORY_FORM__BUTTONS__CANCEL
        </span>
      </button>
      <button
        *ngIf="mode === 'UPDATE'"
        mat-button
        class="save-button"
        (click)="saveClick(); $event.preventDefault()"
      >
        <span translate>
          USER_PROFILES__DISEASE_HISTORY_FORM__BUTTONS__SAVE
        </span>
      </button>

      <button
        *ngIf="mode === 'CREATE'"
        mat-button
        class="create-button"
        (click)="createClick(); $event.preventDefault()"
      >
        <span translate>
          USER_PROFILES__DISEASE_HISTORY_FORM__BUTTONS__CREATE
        </span>
      </button>
    </div>
  </form>
</div>
