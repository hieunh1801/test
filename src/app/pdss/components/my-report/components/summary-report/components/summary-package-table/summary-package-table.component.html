<div class="summary-package-table">
  <h2 translate>
    PDSS__MY_REPORT__SUMMARY_REPORT__SUMMARY_PACKAGE_TABLE__PACKAGE_LIST
  </h2>
  <table mat-table multiTemplateDataRows [dataSource]="tableData">
    <!-- TABLE -->
    <ng-container matColumnDef="index">
      <th mat-header-cell *matHeaderCellDef>
        <span translate
          >PDSS__MY_REPORT__SUMMARY_REPORT__SUMMARY_PACKAGE_TABLE__HEADERS__NO</span
        >
      </th>
      <td mat-cell *matCellDef="let element; let i = dataIndex">{{ i + 1 }}</td>
    </ng-container>

    <ng-container matColumnDef="packageName">
      <th mat-header-cell *matHeaderCellDef>
        <span translate
          >PDSS__MY_REPORT__SUMMARY_REPORT__SUMMARY_PACKAGE_TABLE__HEADERS__PACKAGE</span
        >
      </th>
      <td mat-cell *matCellDef="let element">{{ element.packageName }}</td>
    </ng-container>

    <ng-container matColumnDef="totalDrug">
      <th mat-header-cell *matHeaderCellDef>
        <span translate
          >PDSS__MY_REPORT__SUMMARY_REPORT__SUMMARY_PACKAGE_TABLE__HEADERS__DRUG</span
        >
      </th>
      <td mat-cell *matCellDef="let element">{{ element.totalDrug }}</td>
    </ng-container>

    <ng-container matColumnDef="totalGene">
      <th mat-header-cell *matHeaderCellDef>
        <span translate
          >PDSS__MY_REPORT__SUMMARY_REPORT__SUMMARY_PACKAGE_TABLE__HEADERS__GENE</span
        >
      </th>
      <td mat-cell *matCellDef="let element">{{ element.totalGene }}</td>
    </ng-container>

    <ng-container matColumnDef="totalInterpretation">
      <th mat-header-cell *matHeaderCellDef>
        <span translate
          >PDSS__MY_REPORT__SUMMARY_REPORT__SUMMARY_PACKAGE_TABLE__HEADERS__INTERPRETATION</span
        >
      </th>
      <td mat-cell *matCellDef="let element">
        {{ element.totalInterpretation }}
      </td>
    </ng-container>

    <ng-container matColumnDef="file">
      <th mat-header-cell *matHeaderCellDef>
        <span translate
          >PDSS__MY_REPORT__SUMMARY_REPORT__SUMMARY_PACKAGE_TABLE__HEADERS__FILE</span
        >
      </th>
      <td mat-cell *matCellDef="let element">
        <a
          mat-icon-button
          *ngIf="element.resultReportFileName"
          [href]="element.resultReportFileName"
          target="_blank"
          download
        >
          <mat-icon>download</mat-icon>
        </a>

        <button *ngIf="!element.resultReportFileName" mat-icon-button disabled>
          <mat-icon>download</mat-icon>
        </button>
      </td>
    </ng-container>

    <ng-container matColumnDef="detail">
      <th mat-header-cell *matHeaderCellDef>
        <span translate
          >PDSS__MY_REPORT__SUMMARY_REPORT__SUMMARY_PACKAGE_TABLE__HEADERS__DETAIL</span
        >
      </th>
      <td mat-cell *matCellDef="let element">
        <button mat-icon-button [routerLink]="['../reports', element.qrCode]">
          <mat-icon>content_paste</mat-icon>
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="tableColumnList"></tr>
    <tr mat-row *matRowDef="let row; columns: tableColumnList"></tr>
    <!-- SUMMARY DATA -->
    <ng-container matColumnDef="summary">
      <td mat-footer-cell *matFooterCellDef colspan="999">
        <div *ngIf="summaryData" class="summary">
          <div
            class="statistic"
            fxLayout="row"
            fxLayout.lt-sm="column"
            fxLayoutGap="10px"
          >
            <span>
              <span translate
                >PDSS__MY_REPORT__SUMMARY_REPORT__SUMMARY_PACKAGE_TABLE__STATISTIC__TOTAL_DRUG</span
              >
              : {{ summaryData.totalDrug }} |</span
            >
            <span
              ><span translate
                >PDSS__MY_REPORT__SUMMARY_REPORT__SUMMARY_PACKAGE_TABLE__STATISTIC__TOTAL_GENE</span
              >: {{ summaryData.totalGene }} |</span
            >
            <span
              ><span translate
                >PDSS__MY_REPORT__SUMMARY_REPORT__SUMMARY_PACKAGE_TABLE__STATISTIC__TOTAL_INTERPRETATION</span
              >: {{ summaryData.totalInterpretation }}</span
            >
          </div>
        </div>
      </td>
    </ng-container>
    <tr mat-footer-row *matFooterRowDef="['summary']"></tr>
  </table>
</div>
