<div class="summary-package-table">
  <h2>Packages List</h2>
  <table mat-table multiTemplateDataRows [dataSource]="tableData">
    <!-- TABLE -->
    <ng-container matColumnDef="index">
      <th mat-header-cell *matHeaderCellDef>No.</th>
      <td mat-cell *matCellDef="let element; let i = dataIndex">{{ i + 1 }}</td>
    </ng-container>

    <ng-container matColumnDef="packageName">
      <th mat-header-cell *matHeaderCellDef>Package</th>
      <td mat-cell *matCellDef="let element">{{ element.packageName }}</td>
    </ng-container>

    <ng-container matColumnDef="totalDrug">
      <th mat-header-cell *matHeaderCellDef>Drug</th>
      <td mat-cell *matCellDef="let element">{{ element.totalDrug }}</td>
    </ng-container>

    <ng-container matColumnDef="totalGene">
      <th mat-header-cell *matHeaderCellDef>Gene</th>
      <td mat-cell *matCellDef="let element">{{ element.totalGene }}</td>
    </ng-container>

    <ng-container matColumnDef="totalInterpretation">
      <th mat-header-cell *matHeaderCellDef>Interpretation</th>
      <td mat-cell *matCellDef="let element">
        {{ element.totalInterpretation }}
      </td>
    </ng-container>

    <ng-container matColumnDef="detail">
      <th mat-header-cell *matHeaderCellDef>Detail</th>
      <td mat-cell *matCellDef="let element">
        <button mat-icon-button [routerLink]="['../reports', element.qrCode]">
          <mat-icon>content_paste</mat-icon>
        </button>
      </td>
    </ng-container>

    <tr
      mat-header-row
      *matHeaderRowDef="[
        'index',
        'packageName',
        'totalDrug',
        'totalGene',
        'totalInterpretation',
        'detail'
      ]"
    ></tr>
    <tr
      mat-row
      *matRowDef="
        let row;
        columns: [
          'index',
          'packageName',
          'totalDrug',
          'totalGene',
          'totalInterpretation',
          'detail'
        ]
      "
    ></tr>
    <!-- SUMMARY DATA -->
    <ng-container matColumnDef="summary">
      <td mat-footer-cell *matFooterCellDef colspan="999">
        <div *ngIf="summaryData" class="summary">
          <div
            class="statistic"
            fxLayout="row"
            fxLayout.lt-sm="column"
            fxLayoutGap="10px"
          >
            <span>Total Drug: {{ summaryData.totalDrug }} |</span>
            <span>Total Gene: {{ summaryData.totalGene }} |</span>
            <span
              >Total Interpretation: {{ summaryData.totalInterpretation }}</span
            >
          </div>
        </div>
      </td>
    </ng-container>
    <tr mat-footer-row *matFooterRowDef="['summary']"></tr>
  </table>
</div>
