<div id="drug-detail-page">
  <div class="section">
    <div id="drug-info">
      <div
        class="title"
        fxLayout="column"
        fxLayoutAlign="space-between left"
        *ngIf="!!drug"
      >
        <h1 class="bold">{{ drug.name | titlecase }}</h1>
        <div class="default-margin"></div>
        <table style="width: 300px">
          <ng-container matColumnDef="guideline">
            <td>
              <div *ngIf="drug.hasPharmgkbGuideline > 0; else noPgkbGuide">
                <img
                  mat-card-avatar
                  src="../../../../../../assets/pgx/guideline_yes.png"
                  width="60px"
                  matTooltip="{{ drug.hasPharmgkbGuideline }} PGKB Guideline"
                />
              </div>
              <ng-template #noPgkbGuide>
                <img
                  mat-card-avatar
                  src="../../../../../../assets/pgx/guideline_no.png"
                  width="60px"
                  matTooltip="{{ drug.hasPharmgkbGuideline }} PGKB Guideline"
                />
              </ng-template>
            </td>
          </ng-container>
          <ng-container matColumnDef="drugLabel">
            <td>
              <div *ngIf="drug.hasPharmgkbDruglabel > 0; else noPgkbLabel">
                <img
                  mat-card-avatar
                  src="../../../../../../assets/pgx/druglabel_yes.png"
                  width="60px"
                  matTooltip="{{ drug.hasPharmgkbDruglabel }} PGKB Drug Label"
                />
              </div>
              <ng-template #noPgkbLabel>
                <img
                  mat-card-avatar
                  src="../../../../../../assets/pgx/druglabel_no.png"
                  width="60px"
                  matTooltip="{{ drug.hasPharmgkbDruglabel }} PGKB Drug Label"
                />
              </ng-template>
            </td>
          </ng-container>
          <ng-container matColumnDef="ca">
            <td>
              <div *ngIf="drug.hasPharmgkbCa > 0; else noPgkbCa">
                <img
                  mat-card-avatar
                  src="../../../../../../assets/pgx/clinicalannotation_yes.png"
                  width="60px"
                  matTooltip="{{ drug.hasPharmgkbCa }} PGKB Clinical Annotation"
                />
              </div>
              <ng-template #noPgkbCa>
                <img
                  mat-card-avatar
                  src="../../../../../../assets/pgx/clinicalannotation_no.png"
                  width="60px"
                  matTooltip="{{ drug.hasPharmgkbCa }} PGKB Clinical Annotation"
                />
              </ng-template>
            </td>
          </ng-container>
          <ng-container matColumnDef="va">
            <td>
              <div *ngIf="drug.hasPharmgkbVa > 0; else noPgkbVa">
                <img
                  mat-card-avatar
                  src="../../../../../../assets/pgx/variantannotation_yes.jpg"
                  width="60px"
                  matTooltip="{{ drug.hasPharmgkbVa }} PGKB Variant Annotation"
                />
              </div>
              <ng-template #noPgkbVa>
                <img
                  mat-card-avatar
                  src="../../../../../../assets/pgx/variantannotation_no.jpg"
                  width="60px"
                  matTooltip="{{ drug.hasPharmgkbVa }} PGKB Variant Annotation"
                />
              </ng-template>
            </td>
          </ng-container>
          <ng-container matColumnDef="spmed">
            <td>
              <div *ngIf="drug.hasSpmedGuideline > 0; else noSpmed">
                <img
                  mat-card-avatar
                  src="../../../../../../assets/pgx/spmed_yes.png"
                  width="60px"
                  matTooltip="{{ drug.hasSpmedGuideline }} Spmed Guideline"
                />
              </div>
              <ng-template #noSpmed>
                <img
                  mat-card-avatar
                  src="../../../../../../assets/pgx/spmed_no.png"
                  width="60px"
                  matTooltip="{{ drug.hasSpmedGuideline }} Spmed Guideline"
                />
              </ng-template>
            </td>
          </ng-container>
        </table>
        <!--
        <div class="default-margin">
          <img
            src="../../../../../../assets/pgx/drug_info_icon.png"
            style="width: 80%"
          />
        </div>
        -->
        <div class="default-margin">
          <h2>What is {{ drug.name | titlecase }}</h2>
          <div *ngIf="!!drug.summary">
            <div
              class="sub-content"
              *ngIf="this.languageService.currentLanguage == 'en'"
            >
              {{ drug.summary }}
            </div>
            <div
              class="sub-content"
              *ngIf="this.languageService.currentLanguage == 'kr'"
            >
              {{ drug.kr.summary }}
            </div>
          </div>
          <div *ngIf="!!drug.indicationSummarySpmed">
            <h2 class="sub-title">Indication</h2>
            <div
              class="sub-content"
              *ngIf="this.languageService.currentLanguage == 'en'"
            >
              {{ drug.indicationSummarySpmed }}
            </div>
            <div
              class="sub-content"
              *ngIf="this.languageService.currentLanguage == 'kr'"
            >
              {{ drug.kr.indicationSummarySpmed }}
            </div>
          </div>
          <div
            *ngIf="
              !!drug.toxicitySummarySpmed || !!drug.kr.toxicitySummarySpmed
            "
          >
            <h2 class="sub-title">Toxicity</h2>
            <div
              class="sub-content"
              *ngIf="this.languageService.currentLanguage == 'en'"
            >
              {{ drug.toxicitySummarySpmed }}
            </div>
            <div
              class="sub-content"
              *ngIf="this.languageService.currentLanguage == 'kr'"
            >
              {{ drug.kr.toxicitySummarySpmed }}
            </div>
          </div>
        </div>

        <div class="default-margin">
          <h2>Related genes ({{ drug?.genes?.length }})</h2>
          <div
            fxLayout="row wrap"
            fxLayout.lt-sm="column"
            fxLayoutAlign="start left"
          >
            <div class="brand" *ngFor="let gene of drug.genes">
              <a
                class="white"
                [routerLink]="['/pdss/gene', gene.id, 'detail']"
                >{{ gene.symbol }}</a
              >
            </div>
          </div>
        </div>

        <div class="default-margin" *ngIf="drugSynonyms?.length > 0">
          <h2>Synonyms Information ({{ drugSynonyms.length }})</h2>
          <div class="content">
            <ul>
              <li *ngFor="let synonym of drugSynonyms">
                <span *ngIf="synonym.type !== 'Generic_Name'">{{
                  synonym.synonyms
                }}</span>
              </li>
            </ul>
          </div>
        </div>
        <div class="default-margin">
          <h2>External Information</h2>
          <table class="ex-link">
            <tr *ngIf="drug.idPharmgkb">
              <td class="w100" style="width: 100px">PharmGKB</td>
              <td class="link">
                <a
                  href="https://www.pharmgkb.org/chemical/{{ drug.idPharmgkb }}"
                  target="_blank"
                >
                  {{ drug.idPharmgkb }}
                </a>
              </td>
            </tr>
            <tr *ngIf="drug.idDrugbank">
              <td class="w100" style="width: 100px">Drugbank</td>
              <td class="link">
                <a
                  href="https://go.drugbank.com/drugs/{{ drug.idDrugbank }}"
                  target="_blank"
                  >{{ drug.idDrugbank }}</a
                >
              </td>
            </tr>
            <tr *ngIf="drug.pubchemCompoundIdentifier">
              <td class="w100">PubChem</td>
              <td class="link">
                <a
                  href="https:  //pubchem.ncbi.nlm.nih.gov/compound/{{
                    drug.pubchemCompoundIdentifier
                  }}"
                  target="_blank"
                  >{{ drug.pubchemCompoundIdentifier }}</a
                >
              </td>
            </tr>
            <!--
            <tr *ngIf="drug.rxnormIdentifier">
              <td class="w100">RxNorm</td>
              <td>{{ drug.rxnormIdentifier }}</td>
            </tr>
            -->
            <tr>
              <td class="w100" *ngIf="drug.exVoca !== null">
                External Vocabulary
              </td>
              <td>
                <div *ngFor="let item of exVoca; index as i">{{ item }}</div>
              </td>
            </tr>
          </table>
        </div>
        <!--
        <div class="default-margin">
          <h3>Reference</h3>
          <div class="contents">
            <ol>
              <li>
                Kis B, Snipes JA, Busija DW: Acetaminophen and the
                cyclooxygenase-3 puzzle: sorting out facts, fictions, and
                uncertainties. J Pharmacol Exp Ther.
                <span class="bold">[Article]</span>
              </li>
              <li>
                Kis B, Snipes JA,Busija DW: Acetaminophen and the
                cyclooxygenase-3 puzzle: sorting out facts, fictions, and
                uncertainties. J Pharmacol Exp Ther. 2005 Oct;315(1):1-7. Epub
                2005 May 6.
                <span class="bold">[Article]</span>
              </li>
              <li>
                Aronoff DM, Oates JA, Boutaud O: New insights into the mechanism
                of action of acetaminophen: Its clinical pharmacologic
                characteristics reflect its inhibition of the two prostaglandin
                H2 synthases. Clin Pharmacol Ther. 2006 Jan;79(1):9-19.
                <span class="bold">[Article]</span>
              </li>
            </ol>
          </div>
        </div>
        -->
      </div>
    </div>
  </div>
</div>
